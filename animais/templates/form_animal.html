{% extends "base.html" %}
{% load static %}
{% block title %}
<title>Adicionar anuncio</title>
{% endblock %}
{% block extra_head %}
<link rel="stylesheet" href="{% static 'css/form_animal.css' %}">
{% endblock %}

{% block content %}
<form method="post" enctype="multipart/form-data" class="form-adicionar-animal">
    {% csrf_token %}
    <div class="form-group">
        {{ form.img_animal.label_tag }}
        <input type="file" name="img_animal" id="img_animal_input" accept="image/*">
    </div>
    <div class="img_animal">
        <img id="img_preview" src="#" alt="Preview">
    </div>
    <div class="form-group">
        {{ form.nome.label_tag }}
        {{ form.nome }}
    </div>
    <div class="form-group">
        {{ form.idade.label_tag }}
        {{ form.idade }}
    </div>
    <div class="form-group">
        {{ form.sexo.label_tag }}
        {{ form.sexo }}
    </div>
    <div class="form-group">
        {{ form.raca.label_tag }}
        {{ form.raca }}
    </div>
    <div class="form-group">
        {{ form.animal.label_tag }}
        {{ form.animal }}
    </div>
    <div class="form-group">
        <label for="id_observacao">Observação:</label>
        {{ form.observacao }}
    </div>
    <button><i class="fas fa-plus"></i> Adiconar</button>
</form>
{% endblock %}

{% block scripts %}
<script>
    // Captura o evento de alteração no campo de entrada de arquivo
    document.getElementById('img_animal_input').addEventListener('change', function (event) {
        const input = event.target;
        if (input.files && input.files[0]) {
            const reader = new FileReader();
            reader.onload = function (e) {
                const preview = document.getElementById('img_preview');
                preview.style.display = 'block';
                preview.src = e.target.result;
            }
            reader.readAsDataURL(input.files[0]);
        }
    });
</script>
{% endblock %}